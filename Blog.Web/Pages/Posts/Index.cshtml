@page "/posts/{CategorySlug?}"
@using Blog.Application.Statics
@using CarPartsShop.Application.Extensions
@model Blog.Web.Pages.Posts.IndexModel
@{
    ViewData["Title"] = "پست ها";
}

<form method="get">
    <!-- =======================
    Inner intro START -->
    <section class="pt-4">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="border p-4 text-center rounded-3">
                        <h1>نسخه 2</h1>
                        <nav class="d-flex justify-content-center" aria-label="breadcrumb">
                            <ol class="breadcrumb breadcrumb-dots m-0">
                                <li class="breadcrumb-item"><a href="index.html"><i class="bi bi-house me-1"></i> خانه</a></li>
                                <li class="breadcrumb-item active">نسخه 2</li>
                            </ol>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- =======================
    Inner intro END -->
    <!-- =======================
    Main content START -->
    <section class="position-relative pt-0">
        <div class="container" data-sticky-container>
            <div class="row">
                <!-- Main Post START -->
                <div class="col-lg-9">
                    @if (Model.Filter.Entities != null && Model.Filter.Entities.Any())
                    {
                        <!-- Card item START -->
                        @foreach (var post in Model.Filter.Entities)
                        {
                            <div class="card mb-4">
                                <div class="row">
                                    <div class="col-md-5">
                                        <img class="rounded-3" src="@PathTools.PostThumbImagePath@post.MainImage" alt="@post.Title">
                                    </div>
                                    <div class="col-md-7 mt-3 mt-md-0">
                                        <a href="/posts/@post.CategorySlug" class="badge text-bg-@post.CategoryBootstarpClass mb-2"><i class="fas fa-circle me-2 small fw-bold"></i>@post.CategoryTitle</a>
                                        <h4><a href="/posts/details/@post.Slug" class="btn-link stretched-link text-reset">@post.Title</a></h4>
                                        <h4>
                                            @Html.Raw(post.ShortDescription)
                                        </h4>                                        <!-- Card info -->
                                        <ul class="nav nav-divider align-items-center d-none d-sm-inline-block">
                                            
                                            <li class="nav-item">@post.LastUpdateDate.ToShamsiDateWithMonthName()</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        }
                        <!-- Card item END -->
                        <!-- Pagination START -->
                        <partial name="_Paging" model="Model.Filter.GetPaging()" />
                        <!-- Pagination END -->
                    }
                </div>
                <!-- Main Post END -->
                <!-- Sidebar START -->
                @await Component.InvokeAsync("CategoriesInPostList")
                <!-- Sidebar END -->
            </div> <!-- Row end -->
        </div>
    </section>
    <!-- =======================
    Main content END -->

</form>